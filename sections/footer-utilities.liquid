<footer class="custom-footer">
  <div class="footer-inner">
    
    <div class="footer-row-top">
      {%- if section.settings.menu != blank -%}
        {%- assign menu_handle = section.settings.menu.handle | default: section.settings.menu -%}
        {%- if menu_handle == 'footer' -%}{%- assign menu_handle = 'footer-menu' -%}{%- endif -%}
        {%- for link in linklists[menu_handle].links -%}
          <div class="footer-col">
            <a href="{{ link.url }}" {% if link.active %}class="active"{% endif %}>
              {%- comment -%} Determine Icon based on Handle {%- endcomment -%}
              {%- assign icon_name = 'ph-circle' -%}
              {%- assign handle = link.handle | handleize -%}
              {%- case handle -%}
                {%- when 'search' -%}{%- assign icon_name = 'ph-magnifying-glass' -%}
                {%- when 'catalogo' -%}{%- assign icon_name = 'ph-grid-four' -%}
                {%- when 'all-collections' -%}{%- assign icon_name = 'ph-grid-four' -%}
                {%- when 'alimentazione' -%}{%- assign icon_name = 'ph-carrot' -%}
                {%- when 'animali' -%}{%- assign icon_name = 'ph-paw-print' -%}
                {%- when 'casa' -%}{%- assign icon_name = 'ph-house' -%}
                {%- when 'orders' -%}{%- assign icon_name = 'ph-package' -%}
                {%- when 'profile' -%}{%- assign icon_name = 'ph-user' -%}
              {%- endcase -%}
              {%- if icon_name != 'ph-circle' -%}<i class="ph {{ icon_name }}" style="margin-right: 6px;"></i>{%- endif -%}
              {{ link.title }}
            </a>
            {%- if link.links != blank -%}
              {%- for childlink in link.links -%}
                <a href="{{ childlink.url }}" {% if childlink.active %}class="active"{% endif %}>{{ childlink.title }}</a>
              {%- endfor -%}
            {%- endif -%}
          </div>
        {%- endfor -%}
      {%- else -%}
        {% comment %} No menu selected {% endcomment %}
      {%- endif -%}
    </div>

    <div class="footer-row-bottom">
      {% comment %} Socials removed from footer {% endcomment %}

    </div>

  </div>
</footer>

<style>
/* Modern Footer Design */
.custom-footer {
  background: #004d00;
  padding: 48px 0 32px;
  font-family: inherit;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.footer-inner {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 24px;
}

/* ROW TOP - Modern Grid Layout */
.footer-row-top {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Auto-fit for dynamic columns */
  gap: 40px;
  margin-bottom: 40px;
  align-items: start;
}

.footer-col {
  display: flex;
  flex-direction: column; /* Stack vertically for standard lists */
  gap: 8px;
  align-items: flex-start;
}

.footer-col a {
  color: rgba(255, 255, 255, 0.85);
  text-decoration: none;
  font-size: 0.875rem;
  line-height: 1.6;
  transition: all 0.2s ease;
  padding: 2px 0; /* Adjusted for list view */
  white-space: normal; /* Allow wrapping */
  position: relative;
}

.footer-col a:not(:last-child)::after {
  content: ''; /* Removed bullet point for list view */
}

.footer-col a:hover {
  color: #ffffff;
  text-decoration: underline;
  text-underline-offset: 4px;
}

.footer-col a:hover::after {
  color: rgba(144, 238, 144, 0.3);
}

/* CART - Modern Styling */
.footer-cart {
  align-self: center;
}

.footer-cart a {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  width: 56px;
  height: 56px;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  transition: all 0.3s ease;
}

.footer-cart a:hover {
  background-color: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.footer-cart svg {
  width: 24px;
  height: 24px;
  display: block;
  stroke: #ffff00;
}

.footer-cart .cart-badge {
  position: absolute;
  top: -4px;
  right: -4px;
  background: #ff4444;
  color: #ffffff;
  font-weight: 600;
  font-size: 0.75rem;
  line-height: 1;
  padding: 4px 7px;
  border-radius: 12px;
  min-width: 20px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(255, 68, 68, 0.4);
  border: 2px solid #004d00;
}

.footer-cart .cart-badge:empty {
  display: none;
}

/* ROW BOTTOM - Modern Layout */
.footer-row-bottom {
  display: flex;
  justify-content: flex-end; /* Align newsletter to right */
  align-items: center;
  padding-top: 32px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  gap: 24px;
}

.footer-social {
  display: flex;
  align-items: center;
  gap: 12px;
}

.footer-social a {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  transition: all 0.2s ease;
  padding: 8px;
}

.footer-social a:hover {
  background-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.footer-social svg {
  width: 20px;
  height: 20px;
  fill: #ffffff;
}

/* NEWSLETTER - Modern Design */
.footer-newsletter {
  display: flex;
  align-items: center;
  gap: 16px;
}

.footer-newsletter span {
  color: #fff;
  font-size: 0.9rem;
  font-weight: 500;
  text-transform: lowercase;
  white-space: nowrap;
}

.footer-newsletter-form {
  display: flex;
  background: #fff;
  border-radius: 4px;
  overflow: hidden;
  height: 40px;
  min-width: 300px;
}

.footer-newsletter input {
  border: none;
  padding: 0 16px;
  flex: 1;
  font-size: 0.9rem;
  outline: none;
  color: #333;
}

.footer-newsletter input:focus {
  border-color: #90EE90;
  box-shadow: 0 0 0 3px rgba(144, 238, 144, 0.1);
}

.footer-newsletter input::placeholder {
  color: #999;
  font-style: normal;
}

.footer-newsletter-submit {
  background-color: #90EE90;
  color: #004d00;
  border: none;
  padding: 10px 24px;
  font-size: 0.875rem;
  font-weight: 600;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  box-shadow: 0 2px 4px rgba(144, 238, 144, 0.2);
}

.footer-newsletter-submit:hover {
  background-color: #7fdf7f;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(144, 238, 144, 0.3);
}

.footer-newsletter-submit:active {
  transform: translateY(0);
}

/* Tablet and below (1024px) */
@media (max-width: 1024px) {
  .footer-inner {
    padding: 0 20px;
  }
  
  .footer-row-top {
    grid-template-columns: repeat(2, 1fr) auto;
    gap: 32px;
  }
  
  .footer-row-bottom {
    flex-direction: column;
    align-items: flex-start;
    gap: 24px;
  }
  
  .footer-newsletter {
    width: 100%;
  }
  
  .footer-newsletter input {
    flex: 1;
    min-width: 200px;
  }
}

/* Tablet (768px) */
@media (max-width: 768px) {
  .custom-footer {
    padding: 40px 0 28px;
  }
  
  .footer-inner {
    padding: 0 16px;
  }
  
  .footer-row-top {
    grid-template-columns: repeat(2, 1fr);
    gap: 32px 24px;
    margin-bottom: 32px;
  }
  
  .footer-cart {
    grid-column: 1 / -1;
    justify-self: center;
    margin-bottom: 8px;
  }
  
  .footer-row-bottom {
    flex-direction: column;
    align-items: stretch;
    gap: 24px;
  }
  
  .footer-social {
    justify-content: center;
    flex-wrap: wrap;
  }
  
  .footer-newsletter {
    flex-direction: column;
    align-items: stretch;
    width: 100%;
    gap: 12px;
  }
  
  .footer-newsletter span {
    text-align: center;
  }
  
  .footer-newsletter-form {
    width: 100%;
    flex-direction: column;
  }
  
  .footer-newsletter input {
    width: 100%;
  }
  
  .footer-newsletter-submit {
    width: 100%;
  }
}



/* Tablet Responsive Styles */
@media screen and (max-width: 1024px) {
  .footer-row-top {
    grid-template-columns: repeat(2, 1fr); /* 2 columns on tablet */
    gap: 30px;
  }
  
  .custom-footer {
    padding: 32px 0 24px;
  }
}

/* Mobile/Tablet Responsive Styles (Under 768px) */
@media screen and (max-width: 768px) {
  .footer-row-top {
    display: grid;
    grid-template-columns: 1fr; /* 1 column */
    gap: 20px; /* spacing between columns */
    margin-bottom: 32px;
  }

  .footer-col {
    width: 100%;
    margin-bottom: 20px; /* explicit margin as requested */
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 12px;
  }

  .footer-col a {
    padding: 2px 0;
    width: 100%;
    display: block;
  }

  /* Remove separators on mobile */
  .footer-col a:not(:last-child)::after {
    display: none;
  }
  
  .footer-newsletter {
    flex-direction: column;
    gap: 16px;
  }
  
  .footer-newsletter-form {
    width: 100%;
    min-width: unset;
  }
  
  .footer-newsletter span {
    margin-right: 0;
    margin-bottom: 8px;
  }
}
</style>

{% schema %}
{
  "name": "Custom Footer",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Social Media"
    },
    {
      "type": "text",
      "id": "social_facebook",
      "label": "Facebook URL"
    },
    {
      "type": "text",
      "id": "social_instagram",
      "label": "Instagram URL"
    },
    {
      "type": "text",
      "id": "social_pinterest",
      "label": "Pinterest URL"
    },
    {
      "type": "text",
      "id": "social_tiktok",
      "label": "TikTok URL"
    },
    {
      "type": "text",
      "id": "social_youtube",
      "label": "YouTube URL"
    },
    {
      "type": "text",
      "id": "social_linkedin",
      "label": "LinkedIn URL"
    },
    {
      "type": "text",
      "id": "social_twitter",
      "label": "X (Twitter) URL",
      "default": "#"
    },
    {
      "type": "text",
      "id": "social_whatsapp",
      "label": "WhatsApp URL",
      "info": "Format: https://wa.me/393401234567",
      "default": "https://wa.me/393401234567"
    },
    {
      "type": "header",
      "content": "Menu"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Footer Menu",
      "default": "footer"
    }
  ],
  "presets": [{ "name": "Custom Footer" }]
}
{% endschema %}
